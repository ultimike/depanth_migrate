id: depanth_chicago
label: Import Chicago Employees
migration_groups:
  - depanth

source:
  plugin: csv
  path: '/var/www/web/modules/custom/depanth_migrate/Current_Employee_Names__Salaries__and_Position_Titles.csv'
  header_row_count: 1
  keys:
    - Name

process:
  title: Name
  field_full_or_part_time: 'Full or Part-Time'
  field_salary_or_hourly: 'Salary or Hourly'
  field_typical_hours: 'Typical Hours'
  field_annual_salary:
    -
      plugin: callback
      source: 'Annual Salary'
      callable:
        - '\Drupal\depanth_migrate\depanthUtility'
        - remove_dollar_sign
  field_hourly_rate:
    -
      plugin: callback
      source: 'Hourly Rate'
      callable:
        - '\Drupal\depanth_migrate\depanthUtility'
        - remove_dollar_sign
  field_employee_job_title:
    plugin: entity_generate
    source: 'Job Titles'
  field_employee_department:
    plugin: entity_generate
    source: 'Department'
  uid:
    plugin: default_value
    default_value: 1
  type:
    plugin: default_value
    default_value: employee

destination:
  plugin: entity:node
